<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    

    <!-- Title  -->
    <title>NUNA PROJECT ART - $NUNA Token is a token for art. NUNA TOKEN, STELLAR NETWORK, ART, NFT, APP, WEB3.</title>

    <!-- Favicon  -->
    <link rel="icon" href="assets/img/favicon.ico">

    <!-- ***** All CSS Files ***** -->

    <!-- Style css -->
    <link rel="stylesheet" href="assets/css/style.css">

</head>

<body>
    <!--====== Preloader Area Start ======-->
    <div id="gameon-preloader" class="gameon-preloader">
        <!-- Preloader Animation -->
        <div class="preloader-animation">
            <!-- Spinner -->
            <div class="spinner"></div>
            <p class="fw-5 text-center text-uppercase">Wait for art...</p>
        </div>
        <!-- Loader Animation -->
        <div class="loader-animation">
            <div class="row h-100">
                <!-- Single Loader -->
                <div class="col-3 single-loader p-0">
                    <div class="loader-bg"></div>
                </div>
                <!-- Single Loader -->
                <div class="col-3 single-loader p-0">
                    <div class="loader-bg"></div>
                </div>
                <!-- Single Loader -->
                <div class="col-3 single-loader p-0">
                    <div class="loader-bg"></div>
                </div>
                <!-- Single Loader -->
                <div class="col-3 single-loader p-0">
                    <div class="loader-bg"></div>
                </div>
            </div>
        </div>
    </div>
    <!--====== Preloader Area End ======-->

    <div class="main">
        <!-- ***** Header Start ***** -->
        <header id="header">
            <!-- Navbar -->
            <nav data-aos="zoom-out" data-aos-delay="800" class="navbar gameon-navbar navbar-expand">
                <div class="container header">

                    <!-- Logo -->
                    <a class="navbar-brand" href="index.html">
                        <img src="assets/img/logo/logo.png" alt="Brand Logo" />
                    </a>

                    <div class="ml-auto"></div>

                    <!-- Navbar Nav -->
                    <ul class="navbar-nav items mx-auto">
                        <li class="nav-item active">
                            <a href="index.html" class="nav-link active">NUNA</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link">Projects <i class="icon-arrow-down"></i></a>
                            <ul class="dropdown-menu">
                                <li class="nav-item">
                                    <a href="https://nunaprojectart.medium.com/introducing-nuna-project-art-7c26619a95" target="_blank" class="nav-link">What is $NUNA?</a>
                                </li>
                                <li class="nav-item">
                                    <a href="https://nunaprojectart.medium.com/nuna-nft-club-e2bbc2182e9a" target="_blank" class="nav-link">Nuna Club</a>
                                </li>
                                <li class="nav-item">
                                    <a href="https://nunaprojectart.medium.com/nuna-reimbursement-system-3dff989c322a" target="_blank" class="nav-link">Reimbursement System</a>
                                </li>
                                <li class="nav-item">
                                    <a href="https://nunaprojectart.medium.com/stellar-artistic-foundation-online-artistic-residence-9f059aac9a17" target="_blank" class="nav-link">Stellar Artistic Foundation</a>
                                </li>
                               
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="staking-1.html" target="_blank" class="nav-link">Staking</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="farming.html" target="_blank" class="nav-link">LP Rewards</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link">More<i class="icon-arrow-down"></i></a>
                            <ul class="dropdown-menu">
                                <li class="nav-item dropdown">
                                    <a href="#" class="nav-link">Help <i class="icon-arrow-right"></i></a>
                                    <ul class="dropdown-menu">
                                        
                                        <li class="nav-item">
                                            <a href="wallet-connect.html" class="nav-link">Wallets to use</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="help-center.html" class="nav-link">FAQs</a>
                                        </li>
                                        
                                    </ul>
                                </li>
                              
                                <li class="nav-item">
                                    <a href="tokenomics.html" class="nav-link">Tokenomics</a>
                                </li>
                            
                                <li class="nav-item dropdown">
                                    <a href="blog.html" class="nav-link">Instructions</a>
                                
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a href="contact.html" class="nav-link">Contact</a>
                        </li>
                    </ul>
                        <!-- Navbar Toggler -->
                    <ul class="navbar-nav toggle">
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-toggle="modal" data-target="#menu">
                                    <i class="icon-menu m-0"></i>
                                    
                                </a>
                            </li>
                        </ul>

                    <!-- Navbar Action Button -->
                    <ul class="navbar-nav action">
                        <li class="nav-item ml-2">
                            <button onclick="RegisterWalletWorkflow('albedo')"  class="btn ml-lg-auto btn-bordered-white">Albedo</button>
                            <button onclick="RegisterWalletWorkflow('rabet')"  class="btn ml-lg-auto btn-bordered-white">Rabet</button>
                            <button onclick="RegisterWalletWorkflow('freighter')"  class="btn ml-lg-auto btn-bordered-white">Freighter</button>
                        </li>
                    </ul>

                </div>
            </nav>
        </header>
        <!-- <button onclick="login_with_albedo()">Albedo</button>
        <button onclick="login_with_rabet()">Rabet</button>
        <button onclick="login_with_freighter()">Freighter</button> -->
        <!-- ***** Header End ***** -->
        <!-- ***** Breadcrumb Area Start ***** -->
        <section class="breadcrumb-area overlay-dark d-flex align-items-center">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <!-- Breamcrumb Content -->
                        <div class="breadcrumb-content text-center">
                            <h2 class="m-0">NUNA Staking</h2>
                            <ol class="breadcrumb d-flex justify-content-center">
                                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                
                                <li class="breadcrumb-item active">NUNA Staking</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- ***** Breadcrumb Area End ***** -->

        <!-- ***** Staking Area Start ***** -->
        <section class="staking-area">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md-7">
                        <div class="card no-hover staking-card single-staking">
                            <h3 class="m-0">NUNA Staking</h3>
                            <ul class="nav nav-tabs staking-tabs border-0 my-3 my-md-4" id="myTab" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <a class="tab-link active" id="tab-one-tab" data-toggle="tab" href="#tab-one" role="tab" aria-controls="tab-one" aria-selected="true">Short Term</a>
                                </li>
                                <li class="nav-item" role="presentation">
                                </li>
                               
                               
                            </ul>
                            <div class="tab-content mt-md-3" id="myTabContent">
                                <div class="tab-pane fade show active" id="tab-one" role="tabpanel" aria-labelledby="tab-one-tab">
                                    <div class="staking-tab-content">
                                        <!-- Info Box -->
                                        <div class="info-box d-flex justify-content-between">
                                            <div class="info-left">
                                                <ul class="list-unstyled">
                                    
                                                    <li><strong>Status:</strong> Unlocked</li>
                                                </ul>
                                            </div>
                                            <div class="info-right d-flex flex-column">
                                                <span id="apy">...%</span>
                                                <span>APY*</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tab-two" role="tabpanel" aria-labelledby="tab-two-tab">
                                    <div class="staking-tab-content">
                                 
                                       
                                        <!-- Info Box -->
                                        <div class="info-box d-flex justify-content-between">
                                            <div class="info-left">
                                                <ul class="list-unstyled">
                                                    <li><strong>Status:</strong> Locked</li>
                                                </ul>
                                            </div>
                                            <div class="info-right d-flex flex-column">
                                                <span>...%</span>
                                                <span>APY*</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="input-box my-4">
                                <div class="input-area d-flex flex-column flex-md-row mb-3">
                                    <div class="input-text">
                                        <input id="stake_amount" type="number" placeholder="NUNA Stake Amount">
                                    </div>
                                    <button onclick="stake()" class="btn input-btn mt-2 mt-md-0 ml-md-3">stake</button>
                                </div>
                                <div class="input-area d-flex flex-column flex-md-row">
                                    <div class="input-text">
                                     
                                    </div>
                                    <button onclick="unstake()" class="btn input-btn mt-2 mt-md-0 ml-md-3">Unstake</button>
                                </div>
                            </div>
                            <span id="error">Stake your NUNA tokens to earn more.</span>
                            <span class="mt-3"><strong>*APY is dynamic.</strong></span>
                            <pre id="horizon_error"></pre>
                        </div>
                    </div>
                    <div class="col-12 col-md-5">
                        <div class="staking-items mt-4 mt-md-0">
                            <!-- Single Card -->
                            <div class="card no-hover staking-card">
                                <h3 class="m-0" id="tvl">$...</h3>
                                <p>Total Value Locked</p>
                            </div>
                            <!-- Single Card -->
                            <div class="card no-hover staking-card my-4">
                                <h3 class="m-0" id="total_staked">...</h3>
                                <p>Staked $NUNA</p>
                            </div>
                            
                            <!-- Single Card -->
                            <div class="card no-hover staking-card">
                                <h3 class="m-0" id="total_stakers">...</h3>
                                <p>Number of Stakers</p>
                            </div>
                            <div class="card no-hover staking-card my-4">
                                <h3 class="m-0"  id="my_staked">...</h3>
                                <p>My Staked $NUNA</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ***** Staking Area End ***** -->

       



         <!--====== Footer Area Start ======-->
         <footer class="footer-area">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-12 col-md-8 text-center">
                        <!-- Footer Items -->
                        <div class="footer-items">
                            <!-- Logo -->
                            <a class="navbar-brand" href="index.html">
                                <img src="assets/img/logo/logo.png" alt="">
                            </a>
                            <!-- Social Icons -->
                            <div class="social-icons d-flex justify-content-center my-4">
                            
                                </a>
                                <a class="twitter" href="https://twitter.com/nunaprojectart" target="_blank">
                                    <i class="fa-brands fa-twitter"></i>
                                    
                                </a>
                                <a class="linkedin" href="https://linktr.ee/nunaprojectart" target="_blank">
                                    <i class="fa-brands fa-envira"></i>

                                </a>
                                <a class="reddit" href="https://t.me/NunaProjectArt" target="_blank">
                                    <i class="fab fa-telegram"></i>
                                   
                                </a>
                                <a class="vkontakte" href="https://discord.gg/RshXa7bYyQ" target="_blank">
                                    <i class="fab fa-discord"></i>
                                    
                                </a>
                                <a class="youtube" href="https://nunaprojectart.medium.com/" target="_blank">
                                    <i class="fa-brands fa-medium"></i>
                                </a>
                            </div>
                            <ul class="list-inline">
                                <li class="list-inline-item"><a href="wallet-connect.html">Wallet to Connect</a></li>
                                <li class="list-inline-item"><a href="tokenomics.html">Tokenomics</a></li>
                              
                                <li class="list-inline-item"><a href="blog.html">Instructions</a></li>
                                <li class="list-inline-item"><a href="staking-1.html">Staking</a></li>
                            </ul>
                            <!-- Copyright Area -->
                            <div class="copyright-area py-4">&copy;2022 NUNA PROJECT <a href="https://nunaproject.art/images/icono/nuna-exlibris.png" target="_blank">ART</a></div>
                        </div>
                        <!-- Scroll To Top -->
                        <div id="scroll-to-top" class="scroll-to-top">
                            <a href="#header" class="smooth-anchor">
                                <i class="fa-solid fa-arrow-up"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!--====== Footer Area End ======-->

       

        <!--====== Modal Responsive Menu Area Start ======-->
        <div id="menu" class="modal fade p-0">
            <div class="modal-dialog dialog-animated">
                <div class="modal-content h-100">
                    <div class="modal-header" data-dismiss="modal">
                        Menu <i class="far fa-times-circle icon-close"></i>
                    </div>
                    <div class="menu modal-body">
                        <div class="row w-100">
                            <div class="items p-0 col-12 text-center"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--====== Modal Responsive Menu Area End ======-->

    </div>


    <!-- ***** All jQuery Plugins ***** -->

    <!-- jQuery(necessary for all JavaScript plugins) -->
    <script src="assets/js/vendor/jquery.min.js"></script>

    <!-- Bootstrap js -->
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="assets/js/vendor/bootstrap.min.js"></script>

    <!-- Plugins js -->
    <script src="assets/js/vendor/all.min.js"></script>
    <script src="assets/js/vendor/gallery.min.js"></script>
    <script src="assets/js/vendor/slider.min.js"></script>
    <script src="assets/js/vendor/countdown.min.js"></script>
    <script src="assets/js/vendor/shuffle.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stellar-sdk/10.4.0/stellar-sdk.min.js" integrity="sha512-g0SxqTuQm5hTkD9sk4DMT3tfrZV5QM+pbChv9vhQHIG+6H1hZXEI7Gz017ciPb3gIznqXv83zOBmBa1+l9fXcw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="assets/js/staking.js"></script>
    <script>
        
    ContractInfo = new staking.StaticMethods()
    WalletSession = new staking.WalletManager()

    async function fillInitialData(){
        formatter = Intl.NumberFormat('en-US', {
            style : 'currency',
            currency : 'USD'
        })
        const TokenPrice = await ContractInfo.getTokenPrice()
        const StakerInfo = await ContractInfo.getTotalStaked()
        $("#total_staked").html(StakerInfo.totalStaked.toFixed(2))
        $("#total_stakers").html(StakerInfo.stakerSet.size)
        $("#tvl").html(formatter.format(StakerInfo.totalStaked * TokenPrice))
        $("#apy").html(StakerInfo.apy)
        // $("#token_price").html(TokenPrice)
    }



    $("#staking_form").hide()
    $(document).ready(async function() {
        fillInitialData()
        
    })

    async function refresh(){
        fillInitialData()
        const myStakedInfo = await WalletSession.getMyStaked()
        $("#my_staked").html(myStakedInfo.Staked + " with " + myStakedInfo.Deposits + " deposits")

    }

    async function stake(){
        if(WalletSession.pubKey === null){
            $("#error").html("Not logged in")
        }
        else {
            var inputAmount = $("#stake_amount").val()
            console.log(inputAmount)
            if (isNaN(inputAmount)){
                $("#error").html("Not a number")
            }
            else {
                $("#error").html("sending to horizon...")
                try {
                    const createAndSubmitTX = await WalletSession.createStakingTransaction(inputAmount)
                    if (createAndSubmitTX.error != null) {
                        $("#error").html(error)
                    }
                    console.log(createAndSubmitTX)
                    await refresh()
                    $("#error").html("success!")
                }
                catch(e) {
                    $("#error").html("e")
                }

            }
        }
    }

    async function unstake(){
        if(WalletSession.pubKey === null){
            $("#error").html("Not logged in")
        }
        else {
            var inputAmount = $("#stake_amount").val()
            console.log(inputAmount)
            if (isNaN(inputAmount)){
                $("#error").html("Not a number")
            }
            else {
                $("#error").html("sending to horizon...")
                try {
                    const createAndSubmitTX = await WalletSession.createUnStakingTransaction(inputAmount)
                    if (createAndSubmitTX.error != null) {
                        $("#error").html(error)
                    }
                    console.log(createAndSubmitTX)
                    await refresh()
                    $("#error").html("success!")
                }
                catch(e) {
                    $("#error").html(e)
                }
                
            }
        }
    }


    async function RegisterWalletWorkflow(wallet){
        walletType = wallet.toUpperCase()
        if (WalletSession.registerWallet(walletType)){
            const attemptWalletRegistration = await WalletSession.registerPublicKey()
            if(attemptWalletRegistration == null){
                const myStakedInfo = await WalletSession.getMyStaked()
                if(myStakedInfo.Error != null){
                    $("#error").html(myStakedInfo.Error)
                }
                else {
                    console.log(myStakedInfo)
                    $("#my_staked").html(myStakedInfo.Staked + " with " + myStakedInfo.Deposits + " deposits")
                    $("#error").html("Logged in with account: " + WalletSession.pubKey)
                }
            }
            else {
                const toThrowError = null
                if (typeof attemptWalletRegistration === "string") {
                    $("#error").html(attemptWalletRegistration)
                }
                else if (attemptWalletRegistration.message != undefined) {
                    $("#error").html(attemptWalletRegistration.message)

                }
                else {
                    $("#error").html(attemptWalletRegistration.error.message)
                }
            }
        }
    }
    </script>
</body>

</html>
